{"ast":null,"code":"import _objectSpread from\"/Users/gurpreetkaur/IdeaProjects/software-engineering-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/gurpreetkaur/IdeaProjects/software-engineering-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Link,useNavigate}from\"react-router-dom\";import{useEffect,useState}from\"react\";import*as service from\"../../services/users-service\";import React from\"react\";import{UserList}from\"./user-list\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Login=function Login(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),existingUsers=_useState2[0],setExistingUsers=_useState2[1];// {username: 'user1', email: 'user1', password: 'user1', _id: '123'}\n// ]);\nvar _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),newUser=_useState4[0],setNewUser=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),loginUser=_useState6[0],setLoginUser=_useState6[1];// const navigate = useNavigate()\nvar uuu=[{username:'ellen_ripley',email:'ellen_ripley',password:'ellen_ripley',_id:'123'},{username:'sarah',email:'ellen_ripley',password:'ellen_ripley',_id:'234'}];var deleteUser=function deleteUser(uid){return service.deleteUser(uid).then(findAllUsers);};var findAllUsers=function findAllUsers(){return service.findAllUsers().then(function(users){setExistingUsers(users);});};var register=function register(){return service.createUser(newUser).then(findAllUsers);};var login=function login(){return service.findUserByCredentials(loginUser).then(function(user){//navigate(`/home/${user._id}`)\n});};useEffect(findAllUsers,[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Register\"}),/*#__PURE__*/_jsx(\"input\",{className:\"mb-2 form-control\",onChange:function onChange(e){return setNewUser(_objectSpread(_objectSpread({},newUser),{},{username:e.target.value}));},placeholder:\"username\"}),/*#__PURE__*/_jsx(\"input\",{className:\"mb-2 form-control\",onChange:function onChange(e){return setNewUser(_objectSpread(_objectSpread({},newUser),{},{password:e.target.value}));},placeholder:\"password\",type:\"password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"mb-2 form-control\",onChange:function onChange(e){return setNewUser(_objectSpread(_objectSpread({},newUser),{},{email:e.target.value}));},placeholder:\"email\",type:\"email\"}),/*#__PURE__*/_jsx(\"button\",{onClick:register,className:\"btn btn-primary mb-5\",children:\"Register\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsx(\"input\",{className:\"mb-2 form-control\",onChange:function onChange(e){return setLoginUser(_objectSpread(_objectSpread({},loginUser),{},{username:e.target.value}));},placeholder:\"username\"}),/*#__PURE__*/_jsx(\"input\",{className:\"mb-2 form-control\",onChange:function onChange(e){return setLoginUser(_objectSpread(_objectSpread({},loginUser),{},{password:e.target.value}));},placeholder:\"password\",type:\"password\"}),/*#__PURE__*/_jsx(\"button\",{onClick:login,className:\"btn btn-primary mb-5\",children:\"Login\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Login As\"}),/*#__PURE__*/_jsx(UserList,{users:existingUsers,deleteUser:deleteUser})]});};","map":{"version":3,"sources":["/Users/gurpreetkaur/IdeaProjects/software-engineering-react/src/components/profile/login.js"],"names":["Link","useNavigate","useEffect","useState","service","React","UserList","Login","existingUsers","setExistingUsers","newUser","setNewUser","loginUser","setLoginUser","uuu","username","email","password","_id","deleteUser","uid","then","findAllUsers","users","register","createUser","login","findUserByCredentials","user","e","target","value"],"mappings":"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","sourcesContent":["import {Link, useNavigate} from \"react-router-dom\";\nimport {useEffect, useState} from \"react\";\nimport * as service from \"../../services/users-service\";\nimport React from \"react\";\nimport {UserList} from \"./user-list\";\n\nexport const Login = () => {\n  const [existingUsers, setExistingUsers] = useState([]);\n    // {username: 'user1', email: 'user1', password: 'user1', _id: '123'}\n  // ]);\n  const [newUser, setNewUser] = useState({});\n  const [loginUser, setLoginUser] = useState({});\n  // const navigate = useNavigate()\n\n  const uuu = [\n    {username: 'ellen_ripley', email: 'ellen_ripley', password: 'ellen_ripley', _id: '123'},\n    {username: 'sarah', email: 'ellen_ripley', password: 'ellen_ripley', _id: '234'}\n  ]\n\n  const deleteUser = (uid) =>\n    service.deleteUser(uid)\n      .then(findAllUsers)\n  const findAllUsers = () =>\n    service.findAllUsers()\n      .then(users => {\n        setExistingUsers(users)\n      })\n  const register = () =>\n    service.createUser(newUser)\n      .then(findAllUsers);\n  const login = () =>\n    service.findUserByCredentials(loginUser)\n      .then((user) => {\n        //navigate(`/home/${user._id}`)\n      });\n  useEffect(findAllUsers, []);\n  return (\n    <div>\n      <h1>Register</h1>\n      <input className=\"mb-2 form-control\"\n             onChange={(e) =>\n               setNewUser({...newUser, username: e.target.value})}\n             placeholder=\"username\"/>\n      <input className=\"mb-2 form-control\"\n             onChange={(e) =>\n               setNewUser({...newUser, password: e.target.value})}\n             placeholder=\"password\" type=\"password\"/>\n      <input className=\"mb-2 form-control\"\n             onChange={(e) =>\n               setNewUser({...newUser, email: e.target.value})}\n             placeholder=\"email\" type=\"email\"/>\n      <button onClick={register} className=\"btn btn-primary mb-5\">Register\n      </button>\n\n      <h1>Login</h1>\n      <input className=\"mb-2 form-control\"\n             onChange={(e) =>\n               setLoginUser({...loginUser, username: e.target.value})}\n             placeholder=\"username\"/>\n      <input className=\"mb-2 form-control\"\n             onChange={(e) =>\n               setLoginUser({...loginUser, password: e.target.value})}\n             placeholder=\"password\" type=\"password\"/>\n      <button onClick={login} className=\"btn btn-primary mb-5\">Login</button>\n\n      <h1>Login As</h1>\n\n      <UserList users={existingUsers} deleteUser={deleteUser}/>\n\n    </div>\n  );\n};"]},"metadata":{},"sourceType":"module"}